<!DOCTYPE html>
<ui:composition template="/WEB-INF/template/template.xhtml"
xmlns="http://www.w3.org/1999/xhtml"
xmlns:f="http://xmlns.jcp.org/jsf/core"
xmlns:h="http://xmlns.jcp.org/jsf/html"
xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
xmlns:p="http://primefaces.org/ui">

<f:metadata>
<f:viewParam name="id" value="#{produtoController.produto}" />
</f:metadata>

<ui:define name="corpo">

<h:form id="frm_novoProducto">

<p:fieldset legend="Novo Produto" style="width:400px">

<p:panelGrid columns="2" style="width:400px">
<p:outputLabel value="Nome" for="nome" />
<p:inputText value="#{produtoController.produto.nome}" id="nome" />

<p:outputLabel value="Preço" for="preco" />
<p:inputNumber value="#{produtoController.produto.preco}" id="preco" required="true" decimalPlaces="2" decimalSeparator="," thousandSeparator="."
validatorMessage="Preço incorreto" requiredMessage="Preço incorreto" >
<f:validateDoubleRange minimum="1" for="preco" />
</p:inputNumber>

<p:outputLabel value="Valor Maximo de Compra" for="valorMaximo" />
<p:inputNumber value="#{produtoController.produto.precoMaximoCompra}" id="valorMaximo" required="true"
validatorMessage="Valor máximo de comprar incorreto" decimalPlaces="2" decimalSeparator="," thousandSeparator="." requiredMessage="Valor máximo de comprar incorreto" >
<f:validateDoubleRange minimum="1" for="valorMaximo" />
</p:inputNumber>

<f:facet name="footer">
<p:commandButton value="Salvar" action="#{produtoController.adicionar}"  icon="ui-icon-disk" update=":frm_novoProducto" />
<p:commandButton value="Cancelar" action="/produtos/listar?faces-redirect=true" process="@this" icon="ui-icon-close"  />
</f:facet>
</p:panelGrid>
</p:fieldset>
</h:form>

</ui:define>
</ui:composition>