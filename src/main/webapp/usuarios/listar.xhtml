<ui:composition  template="/WEB-INF/template/template.xhtml"
xmlns="http://www.w3.org/1999/xhtml"
xmlns:f="http://xmlns.jcp.org/jsf/core"
xmlns:h="http://xmlns.jcp.org/jsf/html"
xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
xmlns:p="http://primefaces.org/ui">

<f:metadata>
<f:viewAction action="#{usuarioController.listar}" />
</f:metadata>


<ui:define name="corpo">

<h:form id="frm_usuarios">

<p:fieldset legend="Listado de Usuario">

<p:dataTable style="text-align:center" id="datatable_usuarios" value="#{usuarioController.listaUsuarios}" var="usuario" paginator="true" rowKey="#{usuario.id}"
selection="#{usuarioController.usuarioSelect}" selectionMode="single" rows="15" paginatorPosition="bottom">

<f:facet name="header">
<div align="left"><p:commandButton icon="ui-icon-circle-plus" value="Criar" action="/usuarios/novo?faces-redirect=true" /></div>
</f:facet>

<p:column headerText="People">
<h:outputText value="#{usuario.people}" />
</p:column>

<p:column headerText="Nome">
<h:outputText value="#{usuario.nome}" />
</p:column>

<p:column headerText="email">
<h:outputText value="#{usuario.email}" />
</p:column>

<p:column headerText="Rol">
<h:outputText value="#{usuario.rol.descricao}" />
</p:column>

<p:column headerText="Estado">
<h:outputText value="#{usuario.estado.descricao}" />
</p:column>

<p:column style="width:30px">
<p:button title="Editar" icon="ui-icon-pencil" outcome="/usuarios/novo">
<f:param name="id" value="#{usuario.id}" />
</p:button>
</p:column>

<p:column style="width:30px">
<p:commandButton title="excluir" icon="ui-icon-trash" action="#{usuarioController.delete}" update=":frm_usuarios:datatable_usuarios">
<f:setPropertyActionListener value="#{usuario}" target="#{usuarioController.usuarioSelect}" />
<p:confirm header="Excluir Usuario" message="Tem Certeza?" icon="ui-icon-alert" />
</p:commandButton>

  <p:confirmDialog global="true" showEffect="fade" hideEffect="fade" >
		<p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check"/>
		<p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
  </p:confirmDialog>
</p:column>

</p:dataTable>


</p:fieldset>


</h:form>

</ui:define>

</ui:composition>